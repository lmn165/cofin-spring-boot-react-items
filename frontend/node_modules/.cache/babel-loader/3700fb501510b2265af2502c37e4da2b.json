{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { userAPI } from 'features/user';\n\nconst userJoinPage = async x => {\n  const res = await userAPI.userJoin(x);\n  return res.data;\n};\n\nconst userDetailPage = async x => {\n  const res = await userAPI.userDetail(x);\n  return res.data;\n};\n\nconst userListPage = async () => {\n  const res = await userAPI.userList();\n  return res.data;\n};\n\nconst userLoginPage = async x => {\n  const res = await userAPI.userLogin(x);\n  return res.data;\n};\n\nconst userModifyPage = async x => {\n  const res = await userAPI.userModify(x);\n  return res.data;\n};\n\nconst userRemovePage = async x => {\n  const res = await userAPI.userRemove(x);\n  return res.data;\n};\n\nexport const joinPage = createAsyncThunk('users/join', userJoinPage);\nexport const detailPage = createAsyncThunk('users/dtail', userDetailPage);\nexport const listPage = createAsyncThunk('users/list', userListPage);\nexport const loginPage = createAsyncThunk('users/login', userLoginPage);\nexport const modifyPage = createAsyncThunk('users/modify', userModifyPage);\nexport const removePage = createAsyncThunk('users/remove', userRemovePage);\nconst userSlice = createSlice({\n  name: 'users',\n  initialState: {\n    userState: {\n      username: '',\n      password: '',\n      email: '',\n      name: '',\n      regDate: new Date().toLocaleDateString()\n    },\n    type: '',\n    keyword: '',\n    params: {}\n  },\n  reducers: {},\n  extraReducers: {\n    [joinPage.fulfilled]: (state, action) => {\n      state.userState = action.payload;\n      window.location.href = `/users/login`;\n    },\n    [detailPage.fulfilled]: (state, {\n      meta,\n      payload\n    }) => {\n      state.userState = payload;\n    },\n    [listPage.fulfilled]: (state, {\n      meta,\n      payload\n    }) => {\n      state.pageResult = payload;\n    },\n    [loginPage.fulfilled]: (state, {\n      meta,\n      payload\n    }) => {\n      state.userState = payload;\n      window.localStorage.setItem('sessionUser', JSON.stringify(payload));\n\n      if (payload.username != null) {\n        alert(`${payload.name}님 환영합니다`);\n        history.push(\"/users/detail\");\n      } else {\n        alert('아이디, 비번 오류로 로그인 실패  ');\n        changeNull(['username', 'password']);\n      }\n    },\n    [modifyPage.fulfilled]: (state, action) => {\n      state.userState = action.payload;\n      window.localStorage.setItem('sessionUser', JSON.stringify(action.payload));\n    },\n    [removePage.fulfilled]: (state, {\n      meta,\n      payload\n    }) => {\n      state.userState = payload;\n      window.localStorage.setItem('sessionUser', '');\n    }\n  }\n});\nexport const currentUserState = state => state.users.userState;\nexport const currentUserParam = state => state.users.param;\nexport default userSlice.reducer;","map":{"version":3,"sources":["C:/Users/ASUS/ho/cloud/frontend/src/features/user/reducer/userSlice.js"],"names":["createAsyncThunk","createSlice","userAPI","userJoinPage","x","res","userJoin","data","userDetailPage","userDetail","userListPage","userList","userLoginPage","userLogin","userModifyPage","userModify","userRemovePage","userRemove","joinPage","detailPage","listPage","loginPage","modifyPage","removePage","userSlice","name","initialState","userState","username","password","email","regDate","Date","toLocaleDateString","type","keyword","params","reducers","extraReducers","fulfilled","state","action","payload","window","location","href","meta","pageResult","localStorage","setItem","JSON","stringify","alert","history","push","changeNull","currentUserState","users","currentUserParam","param","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { userAPI } from 'features/user';\r\n\r\nconst userJoinPage = async(x) => {\r\n   const res = await userAPI.userJoin(x)\r\n   return res.data\r\n}\r\nconst userDetailPage = async(x) => {\r\n  const res = await userAPI.userDetail(x)\r\n  return res.data\r\n}\r\nconst userListPage = async() => {\r\n  const res = await userAPI.userList()\r\n  return res.data\r\n}\r\nconst userLoginPage = async(x) => {\r\n  const res = await userAPI.userLogin(x) \r\n  return res.data\r\n}\r\nconst userModifyPage = async(x) => {\r\n  const res = await userAPI.userModify(x)\r\n  return res.data\r\n}\r\nconst userRemovePage = async(x) => {\r\n  const res = await userAPI.userRemove(x)\r\n  return res.data\r\n}\r\n\r\nexport const joinPage = createAsyncThunk('users/join', userJoinPage)\r\nexport const detailPage = createAsyncThunk('users/dtail', userDetailPage)\r\nexport const listPage = createAsyncThunk('users/list', userListPage)\r\nexport const loginPage = createAsyncThunk('users/login', userLoginPage)\r\nexport const modifyPage = createAsyncThunk('users/modify', userModifyPage)\r\nexport const removePage = createAsyncThunk('users/remove', userRemovePage)\r\n\r\nconst userSlice = createSlice({\r\n  name: 'users',\r\n  initialState: {\r\n    userState: {\r\n      username:'', password:'', email:'', name:'', regDate: new Date().toLocaleDateString()\r\n    },\r\n    type: '',\r\n    keyword: '',\r\n    params: {}\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [joinPage.fulfilled]: ( state, action ) => { \r\n      state.userState = action.payload\r\n      window.location.href = `/users/login` \r\n    },\r\n    [detailPage.fulfilled]: ( state, {meta, payload} ) => { state.userState = payload},\r\n    [listPage.fulfilled]: ( state, {meta, payload} ) => { state.pageResult = payload },\r\n    [loginPage.fulfilled]: ( state, {meta, payload} ) => {\r\n      state.userState = payload\r\n      window.localStorage.setItem('sessionUser', JSON.stringify(payload))\r\n      if(payload.username != null){\r\n        alert(`${payload.name}님 환영합니다`)\r\n        history.push(\"/users/detail\")\r\n      }else{\r\n        alert('아이디, 비번 오류로 로그인 실패  ')\r\n        changeNull(['username','password'])\r\n      }\r\n    },\r\n    [modifyPage.fulfilled]: ( state, action ) => { \r\n      state.userState = action.payload \r\n      window.localStorage.setItem('sessionUser', JSON.stringify(action.payload))\r\n    },\r\n    [removePage.fulfilled]: ( state, {meta, payload }) => { \r\n      state.userState = payload\r\n      window.localStorage.setItem('sessionUser', '')\r\n    }\r\n  }\r\n\r\n})\r\nexport const currentUserState = state => state.users.userState\r\nexport const currentUserParam = state => state.users.param\r\nexport default userSlice.reducer;\r\n"]},"metadata":{},"sourceType":"module"}