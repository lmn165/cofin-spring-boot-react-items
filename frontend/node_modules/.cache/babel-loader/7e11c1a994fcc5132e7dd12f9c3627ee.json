{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { userAPI } from 'features/user';\n\nconst userJoinPage = async x => {\n  const res = await userAPI.userJoin(x);\n  return res.data;\n};\n\nconst userDetailPage = async x => {\n  const res = await userAPI.userDetail(x);\n  return res.data;\n};\n\nconst userListPage = async () => {\n  const res = await userAPI.userList();\n  return res.data;\n};\n\nconst userLoginPage = async x => {\n  const res = await userAPI.userLogin(x);\n  return res.data;\n};\n\nconst userModifyPage = async x => {\n  const res = await userAPI.userModify(x);\n  return res.data;\n};\n\nconst userRemovePage = async x => {\n  const res = await userAPI.userRemove(x);\n  return res.data;\n};\n\nexport const joinPage = createAsyncThunk('users/join', userJoinPage);\nexport const detailPage = createAsyncThunk('users/dtail', userDetailPage);\nexport const listPage = createAsyncThunk('users/list', userListPage);\nexport const loginPage = createAsyncThunk('users/login', userLoginPage);\nexport const modifyPage = createAsyncThunk('users/modify', userModifyPage);\nexport const removePage = createAsyncThunk('users/remove', userRemovePage);\n\nconst changeNull = ls => {\n  for (const i of ls) {\n    document.getElementById(i).value = '';\n  }\n};\n\nconst userSlice = createSlice({\n  name: 'users',\n  initialState: {\n    userState: {\n      username: '',\n      password: '',\n      email: '',\n      name: '',\n      regDate: ''\n    },\n    type: '',\n    keyword: '',\n    params: {}\n  },\n  reducers: {},\n  extraReducers: {\n    [joinPage.fulfilled]: (state, action) => {\n      state.userState = action.payload;\n      window.location.href = `/login`;\n    },\n    [detailPage.fulfilled]: (state, {\n      meta,\n      payload\n    }) => {\n      state.userState = payload;\n    },\n    [listPage.fulfilled]: (state, {\n      meta,\n      payload\n    }) => {\n      state.pageResult = payload;\n    },\n    [loginPage.fulfilled]: (state, {\n      meta,\n      payload\n    }) => {\n      state.userState = payload;\n      window.localStorage.setItem('sessionUser', JSON.stringify(payload));\n\n      if (payload.username != null) {\n        alert(`${payload.name}님 환영합니다`);\n        window.location.href = `/detail`;\n      } else {\n        alert('아이디, 비번 오류로 로그인 실패  ');\n        changeNull(['username', 'password']);\n      }\n    },\n    [modifyPage.fulfilled]: (state, action) => {\n      state.userState = action.payload;\n      window.localStorage.setItem('sessionUser', JSON.stringify(action.payload));\n    },\n    [removePage.fulfilled]: (state, {\n      meta,\n      payload\n    }) => {\n      state.userState = payload;\n      window.localStorage.setItem('sessionUser', '');\n    }\n  }\n});\nexport const currentUserState = state => state.users.userState;\nexport const currentUserParam = state => state.users.param;\nexport default userSlice.reducer;","map":{"version":3,"sources":["C:/Users/ASUS/ho/cloud/frontend/src/features/user/reducer/userSlice.js"],"names":["createAsyncThunk","createSlice","userAPI","userJoinPage","x","res","userJoin","data","userDetailPage","userDetail","userListPage","userList","userLoginPage","userLogin","userModifyPage","userModify","userRemovePage","userRemove","joinPage","detailPage","listPage","loginPage","modifyPage","removePage","changeNull","ls","i","document","getElementById","value","userSlice","name","initialState","userState","username","password","email","regDate","type","keyword","params","reducers","extraReducers","fulfilled","state","action","payload","window","location","href","meta","pageResult","localStorage","setItem","JSON","stringify","alert","currentUserState","users","currentUserParam","param","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { userAPI } from 'features/user';\r\n\r\nconst userJoinPage = async (x) => {\r\n   const res = await userAPI.userJoin(x)\r\n   return res.data\r\n}\r\nconst userDetailPage = async (x) => {\r\n  const res = await userAPI.userDetail(x)\r\n  return res.data\r\n}\r\nconst userListPage = async () => {\r\n  const res = await userAPI.userList()\r\n  return res.data\r\n}\r\nconst userLoginPage = async (x) => {\r\n  const res = await userAPI.userLogin(x) \r\n  return res.data\r\n}\r\nconst userModifyPage = async (x) => {\r\n  const res = await userAPI.userModify(x)\r\n  return res.data\r\n}\r\nconst userRemovePage = async (x) => {\r\n  const res = await userAPI.userRemove(x)\r\n  return res.data\r\n}\r\n\r\nexport const joinPage = createAsyncThunk('users/join', userJoinPage)\r\nexport const detailPage = createAsyncThunk('users/dtail', userDetailPage)\r\nexport const listPage = createAsyncThunk('users/list', userListPage)\r\nexport const loginPage = createAsyncThunk('users/login', userLoginPage)\r\nexport const modifyPage = createAsyncThunk('users/modify', userModifyPage)\r\nexport const removePage = createAsyncThunk('users/remove', userRemovePage)\r\n\r\nconst changeNull = ls =>{\r\n  for(const i of ls ){\r\n    document.getElementById(i).value = ''\r\n  }\r\n}\r\nconst userSlice = createSlice({\r\n  name: 'users',\r\n  initialState: {\r\n    userState: {\r\n      username:'', password:'', email:'', name:'', regDate: ''\r\n    },\r\n    type: '',\r\n    keyword: '',\r\n    params: {}\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [joinPage.fulfilled]: ( state, action ) => { \r\n      state.userState = action.payload \r\n      window.location.href = `/login`\r\n    },\r\n    [detailPage.fulfilled]: ( state, {meta, payload} ) => { state.userState = payload},\r\n    [listPage.fulfilled]: ( state, {meta, payload} ) => { state.pageResult = payload },\r\n    [loginPage.fulfilled]: ( state, {meta, payload} ) => {\r\n      state.userState = payload\r\n      window.localStorage.setItem('sessionUser', JSON.stringify(payload))\r\n      if(payload.username != null){\r\n        alert(`${payload.name}님 환영합니다`)\r\n        window.location.href = `/detail`\r\n      }else{\r\n        alert('아이디, 비번 오류로 로그인 실패  ')\r\n        changeNull(['username','password'])\r\n      }\r\n    },\r\n    [modifyPage.fulfilled]: ( state, action ) => { \r\n      state.userState = action.payload \r\n      window.localStorage.setItem('sessionUser', JSON.stringify(action.payload))\r\n    },\r\n    [removePage.fulfilled]: ( state, {meta, payload }) => { \r\n      state.userState = payload\r\n      window.localStorage.setItem('sessionUser', '')\r\n    }\r\n  }\r\n\r\n})\r\nexport const currentUserState = state => state.users.userState\r\nexport const currentUserParam = state => state.users.param\r\nexport default userSlice.reducer;\r\n"]},"metadata":{},"sourceType":"module"}